classdef VoiceDolorifuge < matlab.apps.AppBase

    % Properties that correspond to app components
    properties (Access = public)
        UIFigure                  matlab.ui.Figure
        VoiceDolorifuge9000Panel  matlab.ui.container.Panel
        RecordButton              matlab.ui.control.Button
        PlayButton                matlab.ui.control.Button
        SpeedKnobLabel            matlab.ui.control.Label
        SpeedKnob                 matlab.ui.control.Knob
        DurationsLabel            matlab.ui.control.Label
        DurationsTextArea         matlab.ui.control.TextArea
        BitsPerSampleButtonGroup  matlab.ui.container.ButtonGroup
        bits8                     matlab.ui.control.RadioButton
        bits16                    matlab.ui.control.RadioButton
        bits24                    matlab.ui.control.RadioButton
        VolumeKnobLabel           matlab.ui.control.Label
        VolumeKnob                matlab.ui.control.Knob
        OctaveFilterButtonGroup   matlab.ui.container.ButtonGroup
        OnButton                  matlab.ui.control.RadioButton
        OffButton                 matlab.ui.control.RadioButton
        BestappcTorvaltzandWikiHowboardofdirectorsButton  matlab.ui.control.Button
    end

    methods (Access = private)

        % Button pushed function: RecordButton
        function RecordButtonPushed(app, event)
            audioInput = audiorecorder;
            
            duration = str2double(app.DurationsTextArea.Value{1});
            
            msgbox('Recording your beautiful voice now');
            
            recordblocking(audioInput, duration);
            
            msgbox('Recording.exe stopped');
            
            assignin('base', 'audioInput', audioInput);
        end

        % Button pushed function: PlayButton
        function PlayButtonPushed(app, event)

            audioInput = evalin('base', 'audioInput');
            
            
            Fs = audioInput.SampleRate;
            multiplier = app.SpeedKnob.Value;
            
            
            if (app.bits8.Value)
                nBits = 8;
            end
            
            if (app.bits16.Value)
                nBits = 16;
            end
            
            if (app.bits24.Value)
                nBits = 24;
            end
            
            amplitude = app.VolumeKnob.Value;
            
            if (app.OnButton.Value)
                octFilt = octaveFilter(500,'1 octave','SampleRate', 10000);
                y = octFilt(getaudiodata(audioInput));
            end
            
            if (app.OffButton.Value)
                y = getaudiodata(audioInput);
            end
            
   
            
            sound(y*amplitude, Fs*multiplier, nBits);
            
        end

        % Button pushed function: 
        % BestappcTorvaltzandWikiHowboardofdirectorsButton
        function WikiHow(app, event)
            
        end
    end

    % App initialization and construction
    methods (Access = private)

        % Create UIFigure and components
        function createComponents(app)

            % Create UIFigure
            app.UIFigure = uifigure;
            app.UIFigure.Position = [100 100 640 480];
            app.UIFigure.Name = 'UI Figure';

            % Create VoiceModulator9000Panel
            app.VoiceModulator9000Panel = uipanel(app.UIFigure);
